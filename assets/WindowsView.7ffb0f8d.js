import{_ as u,a as r,o as d,c as a,b as t,w as c,v as _,t as h,n as f,r as x,F as W,d as b,e as v,f as y,g,h as k,p as I,i as C}from"./index.85c128d1.js";const L={name:"WindowsListItem",props:["window"],data:function(){return{name:""}},created:async function(){this.name=this.window.name},computed:{isWindowOpen:function(){return this.window.windowStatus==="OPEN"}},methods:{async renameWindow(){let e=(await r.post("/api/windows/",{id:this.window.id,name:this.name,roomId:this.window.roomId,roomName:this.window.roomName,windowStatus:this.window.windowStatus},{auth:{username:"admin",password:"pass"}})).data;this.$emit("window-updated",e)},async switchWindow(){let e=(await r.put("/api/windows/"+this.window.id+"/switch",{auth:{username:"admin",password:"pass"}})).data;this.$emit("window-updated",e)},async deleteWindow(){await r.delete("/api/windows/"+this.window.id,{auth:{username:"admin",password:"pass"}}),this.$emit("window-deleted",this.window)}}},S={class:"border rounded p-3 m-4 w-40"},D={class:"flex flex-col justify-center items-center"},N={class:"text-base"},O={class:"flex items-center justify-around"},V={class:"inline p-3 pb-1"},B={key:0,class:"font-bold text-base"},$={key:1,class:"font-bold text-base"};function z(s,e,w,m,l,n){return d(),a("div",S,[t("span",{class:"absolute cursor-pointer -left-2 -top-2 bg-red-600 rounded-3xl w-6 h-6 text-white text-center z-10",onClick:e[0]||(e[0]=(...i)=>n.deleteWindow&&n.deleteWindow(...i))}," \u2716 "),t("div",D,[c(t("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>s.name=i),id:"name",class:"bg-transparent text-center font-bold text-xl px-2 m-1 w-full",size:"1",onBlur:e[2]||(e[2]=(...i)=>n.renameWindow&&n.renameWindow(...i))},null,544),[[_,s.name]]),t("div",N,h(w.window.roomName),1),t("div",O,[t("label",{class:"switch h-6",onClick:e[3]||(e[3]=(...i)=>n.switchWindow&&n.switchWindow(...i))},[t("span",{class:f(["slider",{checked:n.isWindowOpen}])},null,2)]),t("div",V,[n.isWindowOpen?(d(),a("label",B," Opened ")):(d(),a("label",$," Closed "))])])])])}const A=u(L,[["render",z],["__scopeId","data-v-63d480e3"]]);const U={components:{WindowsListItem:A},name:"WindowsList",data:function(){return{fetched:!1,windows:[]}},created:async function(){let e=(await r.get("/api/windows",{auth:{username:"admin",password:"pass"}})).data;this.windows=e,this.fetched=!0},methods:{updateWindow(s){let e=this.windows.findIndex(w=>w.id===s.id);this.windows.splice(e,1,s)},addWindow(s){this.windows.push(s)},deleteWindow(s){let e=this.windows.findIndex(w=>w.id===s.id);this.windows.splice(e,1)}}},j={class:"flex flex-wrap items-center justify-around pt-3"},E={key:0,class:"lds-dual-ring"};function M(s,e,w,m,l,n){const i=x("windows-list-item");return d(),a("div",j,[s.fetched?(d(!0),a(W,{key:1},b(s.windows,o=>(d(),v(i,{window:o,key:o.id,onWindowUpdated:n.updateWindow,onWindowDeleted:n.deleteWindow},null,8,["window","onWindowUpdated","onWindowDeleted"]))),128)):(d(),a("div",E))])}const F=u(U,[["render",M],["__scopeId","data-v-a2c3d18d"]]);const P={components:{WindowsList:F},name:"WindowsView",data(){return{name:"",room:"",status:!1,rooms:["A","BB","CCC"]}},computed:{cantAddWindow:function(){return this.name==""||this.room==""}},created:async function(){let e=(await r.get("/api/rooms",{auth:{username:"admin",password:"pass"}})).data;this.rooms=e},methods:{async addWindow(){let e=(await r.post("/api/windows/",{name:this.name,roomId:this.room,windowStatus:this.status?"OPEN":"CLOSED"},{auth:{username:"admin",password:"pass"}})).data;this.$refs.windowsList.addWindow(e)}}},p=s=>(I("data-v-54f6d014"),s=s(),C(),s),T={class:"flex h-full"},R={class:"flex flex-col bg-zinc-900 px-7 py-3 shadow-lg shrink min-w-0"},q=p(()=>t("label",{class:"text-center font-semibold text-xl mb-2"}," ADD A WINDOW ",-1)),G=p(()=>t("option",{class:"bg-zinc-900",value:"",disabled:"",selected:""}," Select a Room ",-1)),H=["value"],J={class:"py-3 m-2 h-12 flex items-center justify-between"},K={class:"switch"},Q=p(()=>t("span",{class:"slider"},null,-1)),X={class:"inline p-3"},Y={key:0,class:"font-bold text-base",for:"status"},Z={key:1,class:"font-bold text-base",for:"status"},ee={class:"m-auto mt-1 max-w-5xl"},se=p(()=>t("h1",{class:"text-center text-5xl m-7"},"Windows",-1));function te(s,e,w,m,l,n){const i=x("WindowsList");return d(),a("div",T,[t("form",R,[q,c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>l.name=o),id:"name",placeholder:"Window Name",class:"p-3 rounded m-2 bg-transparent border font-bold text-base h-12"},null,512),[[_,l.name]]),c(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>l.room=o),id:"room",class:"p-3 rounded m-2 bg-transparent border font-bold text-base h-12"},[G,(d(!0),a(W,null,b(l.rooms,o=>(d(),a("option",{class:"bg-zinc-900",key:o.id,value:o.id},h(o.name),9,H))),128))],512),[[y,l.room]]),t("div",J,[t("div",null,[t("label",K,[c(t("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=o=>l.status=o)},null,512),[[g,l.status]]),Q]),t("div",X,[l.status?(d(),a("label",Y," Opened ")):(d(),a("label",Z," Closed "))])]),t("a",{href:"#",onClick:e[3]||(e[3]=(...o)=>n.addWindow&&n.addWindow(...o)),class:f(["bg-green-500 rounded p-3 text-white font-bold",{disabled:n.cantAddWindow}])}," ADD IT ",2)])]),t("div",ee,[se,k(i,{ref:"windowsList"},null,512)])])}const oe=u(P,[["render",te],["__scopeId","data-v-54f6d014"]]);export{oe as default};
